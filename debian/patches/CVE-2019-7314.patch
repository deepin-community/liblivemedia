Description: fix use-after-free in the RTSP server implementation
 Whenever a stream ends (via StreamState::endPlaying), the stream socket
 is removed but the request alternative byte handler of this same stream
 socket is not updated to reflect the stream deletion. Remote attackers
 might leverage this vulnerability to trigger a use-after-free and
 subsequent server crash.
Origin: upstream
--- a/liveMedia/OnDemandServerMediaSubsession.cpp	2016-11-28 22:42:18.000000000 +0100
+++ b/liveMedia/OnDemandServerMediaSubsession.cpp	2019-03-12 16:37:46.040247175 +0100
@@ -582,6 +582,7 @@
 
   if (dests->isTCP) {
     if (fRTPSink != NULL) {
+      RTPInterface::clearServerRequestAlternativeByteHandler(fRTPSink->envir(), dests->tcpSocketNum);
       fRTPSink->removeStreamSocket(dests->tcpSocketNum, dests->rtpChannelId);
     }
     if (fRTCPInstance != NULL) {
